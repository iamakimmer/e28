(function(e){function t(t){for(var n,a,o=t[0],c=t[1],u=t[2],l=0,d=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&d.push(i[a][0]),i[a]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(e[n]=c[n]);p&&p(t);while(d.length)d.shift()();return s.push.apply(s,u||[]),r()}function r(){for(var e,t=0;t<s.length;t++){for(var r=s[t],n=!0,a=1;a<r.length;a++){var o=r[a];0!==i[o]&&(n=!1)}n&&(s.splice(t--,1),e=c(c.s=r[0]))}return e}var n={},a={app:0},i={app:0},s=[];function o(e){return c.p+"js/"+({}[e]||e)+"."+{"chunk-2d0aa9e3":"9f90ce22","chunk-43cf55ee":"def1abf7"}[e]+".js"}function c(t){if(n[t])return n[t].exports;var r=n[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.e=function(e){var t=[],r={"chunk-43cf55ee":1};a[e]?t.push(a[e]):0!==a[e]&&r[e]&&t.push(a[e]=new Promise((function(t,r){for(var n="css/"+({}[e]||e)+"."+{"chunk-2d0aa9e3":"31d6cfe0","chunk-43cf55ee":"23b17e64"}[e]+".css",i=c.p+n,s=document.getElementsByTagName("link"),o=0;o<s.length;o++){var u=s[o],l=u.getAttribute("data-href")||u.getAttribute("href");if("stylesheet"===u.rel&&(l===n||l===i))return t()}var d=document.getElementsByTagName("style");for(o=0;o<d.length;o++){u=d[o],l=u.getAttribute("data-href");if(l===n||l===i)return t()}var p=document.createElement("link");p.rel="stylesheet",p.type="text/css",p.onload=t,p.onerror=function(t){var n=t&&t.target&&t.target.src||i,s=new Error("Loading CSS chunk "+e+" failed.\n("+n+")");s.code="CSS_CHUNK_LOAD_FAILED",s.request=n,delete a[e],p.parentNode.removeChild(p),r(s)},p.href=i;var v=document.getElementsByTagName("head")[0];v.appendChild(p)})).then((function(){a[e]=0})));var n=i[e];if(0!==n)if(n)t.push(n[2]);else{var s=new Promise((function(t,r){n=i[e]=[t,r]}));t.push(n[2]=s);var u,l=document.createElement("script");l.charset="utf-8",l.timeout=120,c.nc&&l.setAttribute("nonce",c.nc),l.src=o(e);var d=new Error;u=function(t){l.onerror=l.onload=null,clearTimeout(p);var r=i[e];if(0!==r){if(r){var n=t&&("load"===t.type?"missing":t.type),a=t&&t.target&&t.target.src;d.message="Loading chunk "+e+" failed.\n("+n+": "+a+")",d.name="ChunkLoadError",d.type=n,d.request=a,r[1](d)}i[e]=void 0}};var p=setTimeout((function(){u({type:"timeout",target:l})}),12e4);l.onerror=l.onload=u,document.head.appendChild(l)}return Promise.all(t)},c.m=e,c.c=n,c.d=function(e,t,r){c.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},c.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},c.t=function(e,t){if(1&t&&(e=c(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var n in e)c.d(r,n,function(t){return e[t]}.bind(null,n));return r},c.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return c.d(t,"a",t),t},c.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},c.p="/",c.oe=function(e){throw console.error(e),e};var u=window["webpackJsonp"]=window["webpackJsonp"]||[],l=u.push.bind(u);u.push=t,u=u.slice();for(var d=0;d<u.length;d++)t(u[d]);var p=l;s.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0d89":function(e,t,r){"use strict";var n=r("2ba3"),a=r.n(n);a.a},1112:function(e,t,r){"use strict";var n;r.d(t,"a",(function(){return a}));var a=r("bc3a").create({baseURL:null!==(n="https://e28-api.matthew.kim")&&void 0!==n?n:"http://e28-api.hesweb.loc:8888",responseType:"json",withCredentials:!0})},"1c49":function(e,t,r){e.exports=r.p+"img/image-not-available.549b729b.jpg"},"216b":function(e,t,r){},"285b":function(e,t,r){var n={"./ar":"8b23","./ar.js":"8b23","./az":"0fd6","./az.js":"0fd6","./be":"a1de","./be.js":"a1de","./bg":"102b","./bg.js":"102b","./bs":"d1c3","./bs.js":"d1c3","./ca":"1b37","./ca.js":"1b37","./cs":"8981","./cs.js":"8981","./cy":"3ced","./cy.js":"3ced","./da":"7f8d","./da.js":"7f8d","./de":"be39","./de.js":"be39","./el":"1866","./el.js":"1866","./en":"6788","./en.js":"6788","./es":"8b4b","./es.js":"8b4b","./et":"df57","./et.js":"df57","./eu":"b9bc","./eu.js":"b9bc","./fa":"83c4","./fa.js":"83c4","./fi":"1137","./fi.js":"1137","./fr":"2849","./fr.js":"2849","./hr":"2e0c","./hr.js":"2e0c","./hu":"62a6","./hu.js":"62a6","./id":"7fc0","./id.js":"7fc0","./it":"d6e0","./it.js":"d6e0","./ja":"7d74","./ja.js":"7d74","./ka":"14c9","./ka.js":"14c9","./ko":"58ac","./ko.js":"58ac","./lt":"845c","./lt.js":"845c","./lv":"c6c3","./lv.js":"c6c3","./mk":"9fc9","./mk.js":"9fc9","./mn":"a3d2","./mn.js":"a3d2","./ms":"f45d","./ms.js":"f45d","./nb_NO":"bfd4","./nb_NO.js":"bfd4","./nl":"7ab1","./nl.js":"7ab1","./pl":"8ef3","./pl.js":"8ef3","./pt":"61d8","./pt.js":"61d8","./pt_BR":"1911","./pt_BR.js":"1911","./ro":"937f","./ro.js":"937f","./ru":"7f57","./ru.js":"7f57","./se":"c47d","./se.js":"c47d","./sl":"7f0b","./sl.js":"7f0b","./sq":"f373","./sq.js":"f373","./sr":"6f79","./sr.js":"6f79","./sv":"0c56","./sv.js":"0c56","./tr":"4bda","./tr.js":"4bda","./ua":"626a","./ua.js":"626a","./uk":"0874","./uk.js":"0874","./vi":"ee20","./vi.js":"ee20","./zh":"0ede","./zh.js":"0ede","./zh_TW":"4690","./zh_TW.js":"4690"};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="285b"},2970:function(e,t,r){"use strict";var n=r("dc9d"),a=r.n(n);a.a},"2ba3":function(e,t,r){},"2ed1":function(e,t,r){},"379d":function(e,t,r){},"3e7e":function(e,t,r){"use strict";var n=r("2ed1"),a=r.n(n);a.a},"56d7":function(e,t,r){"use strict";r.r(t);r("45fc"),r("d3b7"),r("96cf");var n=r("1da1"),a=(r("e260"),r("e6cf"),r("cca6"),r("a79d"),r("2b0e")),i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{attrs:{id:"app"}},[n("img",{attrs:{alt:"Scripter logo",id:"logo",src:r("d09e")}}),n("p",[e._v(" Record script readings with anyone in the world! ")]),n("p",{staticClass:"instructions"},[e._v("Instructions: Use a real computer (chrome, pref) Go to a script and hover over any line. Hold down the microphone button (you'll have to allow microphone settings when asked) and start speaking. Let go of the button and it will save your audio file. Click on each line to play the line! It will be green if there's an audio file available.")]),n("nav",[n("ul",[n("li",e._l(e.links,(function(t){return n("router-link",{key:t,attrs:{"data-test":t+"-link",to:e.paths[t],exact:""}},[e._v(e._s(t))])})),1)])]),n("router-view",{attrs:{scripts:e.scripts},on:{"update-scripts":function(t){return e.updateScripts()}}})],1)},s=[],o=r("1112"),c={name:"App",data:function(){return{scripts:[],links:["home","add a script","account","register"],paths:{home:"/",account:"/account",scripts:"/scripts",categories:"/categories","add a script":"/scripts/new",register:"/register"}}},methods:{updateScripts:function(){var e=this;o["a"].get("script").then((function(t){e.scripts=t.data.script}))}},mounted:function(){this.updateScripts(),this.$store.dispatch("authUser")}},u=c,l=(r("5c0b"),r("2877")),d=Object(l["a"])(u,i,s,!1,null,null,null),p=d.exports,v=r("8c4f"),f=(r("4de4"),r("2f62"));a["a"].use(f["a"]);var m=new f["a"].Store({state:{cartCount:0,products:[],user:null},mutations:{setCartCount:function(e,t){e.cartCount=t},setProducts:function(e,t){e.products=t},setUser:function(e,t){e.user=t}},actions:{fetchProducts:function(e){o["a"].get("product").then((function(t){e.commit("setProducts",t.data.product)}))},authUser:function(e){return new Promise((function(t){o["a"].post("auth").then((function(r){r.data.authenticated?e.commit("setUser",r.data.user):e.commit("setUser",!1),t()}))}))}},getters:{getProductById:function(e){return function(t){return e.products.filter((function(e){return e.id==t}),this.id)[0]}}}}),h=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("show-featured",{attrs:{category:"TV",scripts:e.scripts}}),r("show-featured",{attrs:{category:"Movie",scripts:e.scripts}})],1)},_=[],g=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"featured"},[r("h2",[e._v(e._s(e.category)+" Scenes")]),r("ul",{staticClass:"cleanList"},e._l(e.featuredScripts,(function(t){return r("li",{key:t.id},[r("router-link",{attrs:{to:"/scripts/"+t.id}},[r("span",{staticClass:"h3"},[e._v(e._s(t.name))]),e._v(" - "+e._s(t.scene)+" ")])],1)})),0)])},b=[],y={name:"show-featured",props:["category","scripts"],computed:{featuredScripts:function(){var e=this;return console.log("category",this.category),this.scripts.filter((function(t){return console.log("category",e.category),t.category===e.category}))}}},w=y,j=(r("8240"),Object(l["a"])(w,g,b,!1,null,"71309b45",null)),L=j.exports,x={name:"",props:["scripts"],components:{"show-featured":L},data:function(){return{}}},C=x,k=Object(l["a"])(C,h,_,!1,null,"15431fb9",null),E=k.exports,P=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"product-page"}},[e.script?r("div",[r("show-script",{attrs:{script:e.script}})],1):e._e(),e.scriptNotFound?r("div",[r("p",[e._v("Script "+e._s(e.id)+" not found.")]),r("router-link",{attrs:{to:"/products"}},[e._v("Go to all scripts ")])],1):e._e()])},$=[],N=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"script"},[r("div",{staticClass:"script-name"},[e._v(" "+e._s(e.script.name)+" ")]),r("div",{staticClass:"script-scene"},[e._v(" "+e._s(e.script.scene)+" ")]),e.script.video_url?r("iframe",{attrs:{width:"400",height:"280",src:e.script.video_url,frameborder:"0",allow:"accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture",allowfullscreen:""}}):e._e(),r("p",{staticClass:"author"},[r("b",[e._v("Screenplay Author:")]),e._v(" "+e._s(e.script.screenplay_author)+" ")]),r("p",{staticClass:"directed_by"},[r("b",[e._v("Directed By:")]),e._v(" "+e._s(e.script.directed_by)+" ")]),r("p",{staticClass:"characters"},[r("b",[e._v("Characters:")]),e._v(" "+e._s(e.script.characters)+" ")]),r("script-lines",{attrs:{scriptId:e.script.id}})],1)},S=[],O=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{attrs:{id:"lines"}},[e.lines.length?e._e():r("div",{staticClass:"error"},[e._v("No Lines Available, Add One Now!")]),e.lines.length?r("h3",[e._v(" Start Scene "),r("button",{on:{click:function(t){return e.playEntireScene()}}},[e._v(e._s(e.autoPlay?"Stop Playing":"Autoplay Entire Script"))])]):e._e(),e.currentLineToEdit?r("edit-line",{attrs:{line:e.currentLineToEdit},on:{close:function(t){e.currentLineToEdit=null}}}):e._e(),r("vue-record-audio",{directives:[{name:"show",rawName:"v-show",value:e.showRecorder,expression:"showRecorder"}],ref:"recorder",attrs:{id:"recorder",mode:"hold"},on:{stream:e.onStream,result:e.onRecordingResult}}),r("ul",e._l(e.lines,(function(t,n){return r("li",{key:t.id,staticClass:"line recordable",class:{active:t==e.currentLine,playable:!!t.audio_file},on:{click:function(r){return e.playLine(t,n,r)},mouseenter:function(r){return e.mouseoverLine(r,t,n)}}},[r("div",{staticClass:"line-grouping"},[t.scene?r("div",{staticClass:"scene"},[r("div",[e._v("SCENE")]),r("i",[e._v(e._s(t.scene))])]):e._e(),t.character?r("div",{staticClass:"character"},[e._v(e._s(t.character))]):e._e(),t.action?r("div",{staticClass:"action"},[e._v("("+e._s(t.action)+")")]):e._e(),t.line?r("div",[e._v(e._s(t.line))]):e._e()]),r("div",{staticClass:"line-options"},[r("button",{on:{click:function(r){return e.favorite(t,n)}}},[r("span",{staticClass:"material-icons"},[e._v("favorite")])]),r("button",{on:{click:function(r){return e.editLine(t,n)}}},[r("span",{staticClass:"material-icons"},[e._v("edit")])])])])})),0),r("add-line",{attrs:{script_id:e.scriptId},on:{"add-line":function(t){return e.updateLines()}}}),e.lines.length?r("h3",[e._v("End Scene")]):e._e(),r("div",{staticClass:"audio-container",staticStyle:{display:"none"}},[e.currentLine.audio_file?r("audio",{attrs:{id:"audio-player",src:e.currentLine.audio_file,controls:""}}):e._e()])],1)},T=[],A=(r("a434"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("transition",{attrs:{name:"modal"}},[r("div",{staticClass:"modal-mask"},[r("div",{staticClass:"modal-wrapper"},[r("div",{staticClass:"modal-container"},[r("div",{staticClass:"modal-header"},[e._t("header",[e._v(" Edit Line ")])],2),r("div",{staticClass:"modal-body"},[e._t("body",[r("div",[r("div",{attrs:{id:"inputs"}},[r("label",{attrs:{for:"name"}},[e._v("Character")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.character,expression:"line.character"}],attrs:{type:"text",id:"character"},domProps:{value:e.line.character},on:{input:function(t){t.target.composing||e.$set(e.line,"character",t.target.value)}}}),r("label",{attrs:{for:"name"}},[e._v("Action")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.action,expression:"line.action"}],attrs:{type:"text",id:"action"},domProps:{value:e.line.action},on:{input:function(t){t.target.composing||e.$set(e.line,"action",t.target.value)}}}),r("label",{attrs:{for:"name"}},[e._v("Scene")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.scene,expression:"line.scene"}],attrs:{type:"text",id:"scene"},domProps:{value:e.line.scene},on:{input:function(t){t.target.composing||e.$set(e.line,"scene",t.target.value)}}}),r("label",{attrs:{for:"name"}},[e._v("Order")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.order,expression:"line.order"}],attrs:{type:"text",id:"order"},domProps:{value:e.line.order},on:{input:function(t){t.target.composing||e.$set(e.line,"order",t.target.value)}}}),r("label",{attrs:{for:"characters"}},[e._v("Line")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.line.line,expression:"line.line"}],attrs:{id:"line"},domProps:{value:e.line.line},on:{input:function(t){t.target.composing||e.$set(e.line,"line",t.target.value)}}})]),r("button",{on:{click:e.updateLine}},[e._v("Update Line")]),r("button",{staticClass:"modal-default-button",on:{click:function(t){return e.$emit("close")}}},[e._v("Cancel")]),e._v(" "+e._s(e.errors)+" ")])])],2)])])])])}),q=[],R={data:function(){return{errors:""}},props:["line","method"],methods:{updateLine:function(){var e=this;o["a"].put("/line/".concat(this.line.id),this.line).then((function(t){t.data.errors?e.errors=t.data.errors:e.$emit("close")}))}}},U=R,F=(r("f9eb"),Object(l["a"])(U,A,q,!1,null,"ed93c540",null)),M=F.exports,I=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"add-line"},[r("div",{attrs:{id:"inputs"}},[r("label",{attrs:{for:"name"}},[e._v("Character")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.character,expression:"line.character"}],attrs:{type:"text",id:"character"},domProps:{value:e.line.character},on:{input:function(t){t.target.composing||e.$set(e.line,"character",t.target.value)}}}),r("label",{attrs:{for:"name"}},[e._v("Action")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.action,expression:"line.action"}],attrs:{type:"text",id:"action"},domProps:{value:e.line.action},on:{input:function(t){t.target.composing||e.$set(e.line,"action",t.target.value)}}}),r("label",{attrs:{for:"name"}},[e._v("Scene")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.scene,expression:"line.scene"}],attrs:{type:"text",id:"scene"},domProps:{value:e.line.scene},on:{input:function(t){t.target.composing||e.$set(e.line,"scene",t.target.value)}}}),r("label",{attrs:{for:"name"}},[e._v("Order")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.line.order,expression:"line.order"}],attrs:{type:"number",id:"order"},domProps:{value:e.line.order},on:{input:function(t){t.target.composing||e.$set(e.line,"order",t.target.value)}}}),r("label",{attrs:{for:"characters"}},[e._v("Line")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.line.line,expression:"line.line"}],attrs:{id:"line"},domProps:{value:e.line.line},on:{input:function(t){t.target.composing||e.$set(e.line,"line",t.target.value)}}})]),r("button",{on:{click:e.addLine}},[e._v("Add Line")]),r("div",[e._v(" "+e._s(e.errors)+" ")])])},D=[],z={data:function(){return{line:{},errors:""}},props:["script_id"],methods:{addLine:function(){var e=this;o["a"].post("/line",this.line).then((function(t){t.data.errors?e.errors=t.data.errors:e.$emit("add-line")}))}},mounted:function(){this.line.script_id=this.script_id}},B=z,G=(r("b8c2"),Object(l["a"])(B,I,D,!1,null,"5cb48d5c",null)),H=G.exports,W=function(e){var t=new FileReader;return t.readAsDataURL(e),new Promise((function(e){t.onloadend=function(){e(t.result)}}))},J={name:"script-line",props:["scriptId"],data:function(){return{lines:[],showRecorder:!1,currentLine:{},currentLineIndex:0,currentLineToEdit:null,autoPlay:!1}},computed:{},components:{"edit-line":M,"add-line":H},mounted:function(){var e=this;o["a"].get("line/query",{params:{script_id:this.scriptId}}).then((function(t){e.lines=t.data.results}))},methods:{updateLines:function(){var e=this;o["a"].get("line/query",{params:{script_id:this.scriptId}}).then((function(t){e.lines=t.data.results}))},playEntireScene:function(){this.autoPlay?this.autoPlay=!1:(this.autoPlay=!0,this.currentLine=this.lines[0],this.playLine(this.currentLine,0))},playLine:function(e,t,r){var n=this;if(console.log("$event",r),!r||"recorder"!==r.srcElement.id)if(e.audio_file){var a=new Audio(e.audio_file);a.play(),a.onended=function(){console.log("audio finished"),n.autoPlay&&(n.lines[t+1]?(n.currentLine=n.lines[t+1],n.playLine(n.currentLine,t+1)):n.autoPlay=!1)}}else this.autoPlay&&(this.lines[t+1]?(this.currentLine=this.lines[t+1],this.playLine(this.currentLine,t+1)):this.autoPlay=!1)},onStream:function(e){console.log("Got a stream object:",e)},deleteLine:function(e,t){var r=this;o["a"].delete("/line/".concat(e.id)).then((function(e){console.log("response",e),console.log("lines",r.lines),r.lines.splice(t,1)}))},editLine:function(e){this.currentLineToEdit=e},favorite:function(e){console.log("in favorite"),e.favorited||o["a"].post("/favorite",e).then((function(t){t.data.success&&(e.favorited=!0)}))},updateLine:function(e,t,r){var n=this;console.log("updating line",e,t),e.audio_file=t,console.log("line",e),o["a"].put("/line/".concat(e.id),e).then((function(t){console.log("response",t),console.log("lines",n.lines),console.log("currentLineIndex",r),n.$set(n.lines,r,e)})),o["a"].get("line/query",{params:{script_id:this.scriptId}}).then((function(e){n.lines=e.data.results}))},uploadFileToCloudinary:function(e,t,r){var n=this;console.log("prepint file to upload");var a="https://api.cloudinary.com/v1_1/mattkim/upload",i=new XMLHttpRequest,s=new FormData;i.open("POST",a,!0),i.setRequestHeader("X-Requested-With","XMLHttpRequest"),i.onreadystatechange=function(){if(4==i.readyState&&200==i.status){var e=JSON.parse(i.responseText),a=e.secure_url;console.log("updateLine"),n.updateLine(t,a,r),n.playLine(t,r)}},s.append("upload_preset","e28-bklczr9c"),s.append("tags","browser_upload"),s.append("file",e),i.send(s),console.log("sent file")},onRecordingResult:function(e){var t=this;console.log("onRecordingResult",e),W(e).then((function(e){t.uploadFileToCloudinary(e,t.currentLine,t.currentLineIndex)}))},mouseoverLine:function(e,t,r){this.autoPlay||(this.showRecorder=!0,this.currentLine=t,this.currentLineIndex=r,e.target.appendChild(this.$refs.recorder.$el))}}},V=J,X=(r("2970"),Object(l["a"])(V,O,T,!1,null,"504ab30a",null)),K=X.exports,Y={name:"show-script",props:["script"],components:{"script-lines":K},data:function(){return{}},computed:{imageSource:function(){try{return r("c2f8")("./"+this.script.id+".jpg")}catch(e){return r("1c49")}}}},Z=Y,Q=Object(l["a"])(Z,N,S,!1,null,null,null),ee=Q.exports,te={name:"",props:["id","scripts"],components:{"show-script":ee},data:function(){return{script:null}},mounted:function(){var e=this;o["a"].get("script/".concat(this.id),{}).then((function(t){t.data.success?(console.log("script",t.data.script),e.script=t.data.script):e.script=null}))},computed:{scriptNotFound:function(){return null==this.script}}},re=te,ne=Object(l["a"])(re,P,$,!1,null,null,null),ae=ne.exports,ie=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("h2",[e._v("Add a Script")]),r("div",{attrs:{id:"inputs"}},[r("label",{attrs:{for:"name"}},[e._v("Name")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.script.name,expression:"script.name"}],attrs:{type:"text","data-test":"script-name-input",id:"name",required:""},domProps:{value:e.script.name},on:{input:function(t){t.target.composing||e.$set(e.script,"name",t.target.value)}}}),e.errors&&"name"in e.errors?r("error-field",{attrs:{errors:e.errors.name}}):e._e(),r("label",{attrs:{for:"category"}},[e._v("Category:")]),r("select",{directives:[{name:"model",rawName:"v-model",value:e.script.category,expression:"script.category"}],attrs:{"data-test":"script-category-input",id:"category",required:""},on:{change:function(t){var r=Array.prototype.filter.call(t.target.options,(function(e){return e.selected})).map((function(e){var t="_value"in e?e._value:e.value;return t}));e.$set(e.script,"category",t.target.multiple?r:r[0])}}},[r("option",{attrs:{value:"TV"}},[e._v("TV")]),r("option",{attrs:{value:"Movie"}},[e._v("Movie")])]),r("label",{attrs:{for:"scene"}},[e._v("Scene:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.script.scene,expression:"script.scene"}],attrs:{"data-test":"script-scene-input",type:"text",id:"scene"},domProps:{value:e.script.scene},on:{input:function(t){t.target.composing||e.$set(e.script,"scene",t.target.value)}}}),e.errors&&"scene"in e.errors?r("error-field",{attrs:{errors:e.errors.scene}}):e._e(),r("label",{attrs:{for:"video_url"}},[e._v("Youtube Embed URL:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.script.video_url,expression:"script.video_url"}],attrs:{"data-test":"script-video_url-input",type:"text",id:"video_url"},domProps:{value:e.script.video_url},on:{input:function(t){t.target.composing||e.$set(e.script,"video_url",t.target.value)}}}),e.errors&&"video_url"in e.errors?r("error-field",{attrs:{errors:e.errors.video_url}}):e._e(),r("label",{attrs:{for:"screenplay_author"}},[e._v("Screenplay Author:")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.script.screenplay_author,expression:"script.screenplay_author"}],attrs:{"data-test":"script-author-input",type:"text",id:"screenplay_author"},domProps:{value:e.script.screenplay_author},on:{input:function(t){t.target.composing||e.$set(e.script,"screenplay_author",t.target.value)}}}),r("label",{attrs:{for:"attribution"}},[e._v("Attribution")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.script.attribution,expression:"script.attribution"}],attrs:{"data-test":"script-attribution-input",type:"text",id:"attribution"},domProps:{value:e.script.attribution},on:{input:function(t){t.target.composing||e.$set(e.script,"attribution",t.target.value)}}}),r("label",{attrs:{for:"attribution"}},[e._v("Directed By")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.script.directed_by,expression:"script.directed_by"}],attrs:{"data-test":"script-director-input",type:"directed_by",id:"directed_by"},domProps:{value:e.script.directed_by},on:{input:function(t){t.target.composing||e.$set(e.script,"directed_by",t.target.value)}}}),r("label",{attrs:{for:"characters"}},[e._v("Characters")]),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.script.characters,expression:"script.characters"}],attrs:{"data-test":"script-characters-input",id:"characters"},domProps:{value:e.script.characters},on:{input:function(t){t.target.composing||e.$set(e.script,"characters",t.target.value)}}}),e.errors&&"characters"in e.errors?r("error-field",{attrs:{errors:e.errors.characters}}):e._e()],1),r("button",{attrs:{"data-test":"add-script-button"},on:{click:e.addScript}},[e._v("Add Script")]),e._v(" "+e._s(e.serverErrors)+" ")])},se=[],oe=r("ad5e"),ce=r("1c4a"),ue=r.n(ce),le={components:{"error-field":oe["a"]},data:function(){return{errors:null,serverErrors:null,showConfirmationMessage:!1,script:{name:"The Godfather",category:"Movie",scene:"Leave The Gun - Take the Cannoli",video_url:"https://www.youtube.com/embed/35fLKn2Tq3o",screenplay_author:"Mario Puzo, Francis Ford Coppola",attribution:"Based on a Novel by Mario Puzo",directed_by:"Francis Ford Coppola",characters:"MRS. CLEMENZA, CLEMENZA, PAULIE, ROCCO"}}},methods:{validate:function(){var e=new ue.a(this.script,{name:"required",category:"required",scene:"required",video_url:"required",characters:"required"});return e.fails()?(this.errors=e.errors.all(),console.log("errors",this.errors)):this.errors=null,e.passes()},addScript:function(){var e=this;this.validate()&&o["a"].post("/script",this.script).then((function(t){t.data.errors?e.serverErrors=t.data.errors:e.$router.push("/scripts/".concat(t.data.script.id))}))}}},de=le,pe=(r("0d89"),Object(l["a"])(de,ie,se,!1,null,"6b4c0433",null)),ve=pe.exports,fe=r("c9d0"),me=r.n(fe),he=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"account-page"}},[e.user?r("div",[r("h2",{attrs:{"data-test":"welcome-message"}},[e._v("Welcome, "+e._s(e.user.name)+"!")]),r("div",{attrs:{id:"favorites"}},[r("strong",[e._v("Your Favorite Lines")]),e.favorites&&0==e.favorites.length?r("p",[e._v(" No favorites yet. ")]):e._e(),e._l(e.favorites,(function(t,n){return r("li",{key:n},[e._v(" "+e._s(t.name)+" ")])}))],2),r("button",{attrs:{"data-test":"logout-button"},on:{click:e.logout}},[e._v("Logout")])]):r("div",{attrs:{id:"loginForm"}},[r("h2",[e._v("Login")]),r("div",[r("label",[e._v("Email: "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.data.email,expression:"data.email"}],attrs:{type:"text","data-test":"email-input",id:"email",required:""},domProps:{value:e.data.email},on:{blur:function(t){return e.validate()},input:function(t){t.target.composing||e.$set(e.data,"email",t.target.value)}}})]),e.errors&&"email"in e.errors?r("error-field",{attrs:{errors:e.errors.email}}):e._e()],1),r("div",[r("label",[e._v("Password : "),r("input",{directives:[{name:"model",rawName:"v-model",value:e.data.password,expression:"data.password"}],attrs:{type:"password","data-test":"password-input",required:""},domProps:{value:e.data.password},on:{blur:function(t){return e.validate()},input:function(t){t.target.composing||e.$set(e.data,"password",t.target.value)}}})]),e.errors&&"password"in e.errors?r("error-field",{attrs:{errors:e.errors.password}}):e._e()],1),r("button",{attrs:{"data-test":"login-button"},on:{click:e.login}},[e._v("Login")]),e.serverErrors?r("ul",e._l(e.serverErrors,(function(t,n){return r("li",{key:n,staticClass:"error"},[e._v(" "+e._s(t)+" ")])})),0):e._e()])])},_e=[],ge={components:{"error-field":oe["a"]},data:function(){return{data:{email:null,password:null},errors:null,serverErrors:null,favorites:[]}},computed:{user:function(){return this.$store.state.user},products:function(){return this.$store.state.products}},methods:{validate:function(){var e=new ue.a(this.data,{email:"required",password:"required|min:8"});return e.fails()?this.errors=e.errors.all():this.errors=null,e.passes()},loadFavorites:function(){var e=this;this.user&&o["a"].get("favorite").then((function(t){e.favorites=t.data.favorite}))},login:function(){var e=this;this.validate()&&(this.serverErrors=null,o["a"].post("login",this.data).then((function(t){t.data.authenticated?(console.log("user",t.data.user),e.$store.commit("setUser",t.data.user)):e.serverErrors=t.data.errors})))},logout:function(){var e=this;o["a"].post("logout").then((function(t){t.data.success&&e.$store.commit("setUser",null)}))}},watch:{user:function(){this.loadFavorites()}},mounted:function(){this.loadFavorites()}},be=ge,ye=Object(l["a"])(be,he,_e,!1,null,null,null),we=ye.exports;a["a"].config.productionTip=!1,a["a"].use(me.a),a["a"].use(v["a"]);var je=new v["a"]({mode:"history",routes:[{path:"/",component:E},{path:"/account",component:we},{path:"/scripts/new",component:ve,meta:{requiresAuth:!0}},{path:"/denied",component:function(){return r.e("chunk-2d0aa9e3").then(r.bind(null,"127c"))}},{path:"/register",component:function(){return r.e("chunk-43cf55ee").then(r.bind(null,"637f"))}},{path:"/scripts/:id",component:ae,props:!0}]});je.beforeEach(function(){var e=Object(n["a"])(regeneratorRuntime.mark((function e(t,r,n){var a,i;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:a=t.matched.some((function(e){return e.meta.requiresAuth})),console.log("requiresAuth",a),console.log("store.state.user",m.state.user),i=function(){a&&!m.state.user?n("/denied"):n()},null===m.state.user?m.dispatch("authUser").then((function(){i()})):i();case 5:case"end":return e.stop()}}),e)})));return function(t,r,n){return e.apply(this,arguments)}}()),new a["a"]({router:je,store:m,render:function(e){return e(p)}}).$mount("#app")},"5c0b":function(e,t,r){"use strict";var n=r("9c0c"),a=r.n(n);a.a},8240:function(e,t,r){"use strict";var n=r("216b"),a=r.n(n);a.a},"9c0c":function(e,t,r){},ad5e:function(e,t,r){"use strict";var n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("ul",e._l(e.errors,(function(t,n){return r("li",{key:n,staticClass:"form-feedback-error"},[e._v(e._s(t))])})),0)},a=[],i={props:["errors"]},s=i,o=(r("3e7e"),r("2877")),c=Object(o["a"])(s,n,a,!1,null,null,null);t["a"]=c.exports},b8c2:function(e,t,r){"use strict";var n=r("379d"),a=r.n(n);a.a},c2f8:function(e,t,r){var n={"./image-not-available.jpg":"1c49"};function a(e){var t=i(e);return r(t)}function i(e){if(!r.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}a.keys=function(){return Object.keys(n)},a.resolve=i,e.exports=a,a.id="c2f8"},d09e:function(e,t,r){e.exports=r.p+"img/scripterlogo.7bd4e4bb.png"},dc9d:function(e,t,r){},e451:function(e,t,r){},f9eb:function(e,t,r){"use strict";var n=r("e451"),a=r.n(n);a.a}});
//# sourceMappingURL=app.d99c8576.js.map