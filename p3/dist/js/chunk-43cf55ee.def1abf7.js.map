{"version":3,"sources":["webpack:///./src/components/pages/RegisterPage.vue?23f1","webpack:///./src/components/pages/RegisterPage.vue?b78d","webpack:///src/components/pages/RegisterPage.vue","webpack:///./src/components/pages/RegisterPage.vue?0cb6","webpack:///./src/components/pages/RegisterPage.vue"],"names":["render","_vm","this","_h","$createElement","_c","_self","attrs","_v","_s","user","name","on","logout","directives","rawName","value","data","expression","domProps","$event","validate","target","composing","$set","errors","_e","email","staticClass","password","register","_l","error","index","key","staticRenderFns","component"],"mappings":"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","file":"js/chunk-43cf55ee.def1abf7.js","sourcesContent":["import mod from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterPage.vue?vue&type=style&index=0&lang=scss&\"; export default mod; export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--8-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--8-oneOf-1-1!../../../node_modules/vue-loader/lib/loaders/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--8-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--8-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterPage.vue?vue&type=style&index=0&lang=scss&\"","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{attrs:{\"id\":\"register-page\"}},[(_vm.user)?_c('div',[_vm._v(\" You are already logged in, \"+_vm._s(_vm.user.name)+\"! If you want to create a new account, please log out first. \"),_c('button',{attrs:{\"data-test\":\"logout-button\"},on:{\"click\":_vm.logout}},[_vm._v(\"Logout\")])]):_c('div',{attrs:{\"id\":\"registerForm\"}},[_c('h2',[_vm._v(\"Register\")]),_c('div',[_c('label',[_vm._v(\"Name: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.name),expression:\"data.name\"}],attrs:{\"type\":\"text\",\"data-test\":\"name-input\",\"id\":\"name\",\"required\":\"\"},domProps:{\"value\":(_vm.data.name)},on:{\"blur\":function($event){return _vm.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"name\", $event.target.value)}}})]),(_vm.errors && 'name' in _vm.errors)?_c('error-field',{attrs:{\"errors\":_vm.errors.name}}):_vm._e()],1),_c('div',[_c('label',[_vm._v(\"Email: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.email),expression:\"data.email\"}],attrs:{\"type\":\"text\",\"data-test\":\"email-input\",\"id\":\"email\",\"required\":\"\"},domProps:{\"value\":(_vm.data.email)},on:{\"blur\":function($event){return _vm.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"email\", $event.target.value)}}})]),(_vm.errors && 'email' in _vm.errors)?_c('error-field',{attrs:{\"errors\":_vm.errors.email}}):_vm._e()],1),_c('div',[_c('label',[_vm._v(\"Password: \"),_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.data.password),expression:\"data.password\"}],attrs:{\"type\":\"password\",\"data-test\":\"password-input\",\"id\":\"price\",\"required\":\"\"},domProps:{\"value\":(_vm.data.password)},on:{\"blur\":function($event){return _vm.validate()},\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.data, \"password\", $event.target.value)}}})]),_c('small',{staticClass:\"form-help\"},[_vm._v(\"Minimum Characters 8\")]),(_vm.errors && 'password' in _vm.errors)?_c('error-field',{attrs:{\"errors\":_vm.errors.password}}):_vm._e()],1),_c('button',{attrs:{\"data-test\":\"register-button\"},on:{\"click\":_vm.register}},[_vm._v(\"Login\")]),(_vm.serverErrors)?_c('ul',_vm._l((_vm.serverErrors),function(error,index){return _c('li',{key:index,staticClass:\"error\"},[_vm._v(\" \"+_vm._s(error)+\" \")])}),0):_vm._e()])])}\nvar staticRenderFns = []\n\nexport { render, staticRenderFns }","<template>\n    <div id=\"register-page\">\n\n        <div v-if=\"user\">\n            You are already logged in, {{user.name}}! If you want to create a new account, please log out first. \n            <button @click=\"logout\" data-test=\"logout-button\">Logout</button>\n        </div>\n\n        <div v-else id=\"registerForm\">\n            <h2>Register</h2>    \n            <div>\n                <label\n                    >Name:\n                    <input\n                        type=\"text\"\n                        data-test=\"name-input\"\n                        v-model=\"data.name\"\n                        id=\"name\"\n                        required\n                        v-on:blur=\"validate()\"\n                /></label>\n                <error-field v-if=\"errors && 'name' in errors\" :errors=\"errors.name\"></error-field>\n            </div>               \n            <div>\n                <label\n                    >Email:\n                    <input\n                        type=\"text\"\n                        data-test=\"email-input\"\n                        v-model=\"data.email\"\n                        id=\"email\"\n                        required\n                        v-on:blur=\"validate()\"\n                /></label>\n                <error-field v-if=\"errors && 'email' in errors\" :errors=\"errors.email\"></error-field>\n\n            </div>\n            <div>\n                <label\n                    >Password:\n                    <input\n                        type=\"password\"\n                        data-test=\"password-input\"\n                        v-model=\"data.password\"\n                        id=\"price\"\n                        required\n                        v-on:blur=\"validate()\"\n                /></label>\n                <small class=\"form-help\">Minimum Characters 8</small>\n                <error-field v-if=\"errors && 'password' in errors\" :errors=\"errors.password\"></error-field>\n\n            </div>\n\n            <button @click=\"register\" data-test=\"register-button\">Login</button>\n\n            <ul v-if=\"serverErrors\">\n                <li class=\"error\" v-for=\"(error, index) in serverErrors\" :key=\"index\">\n                    {{ error }}\n                </li>\n            </ul>\n\n        </div>\n    </div>\n</template>\n\n<script>\nimport { axios } from '@/app.js';\nimport ErrorField from '@/components/ErrorField.vue';\nimport Validator from 'validatorjs';\n\nexport default {\n    components: {\n        'error-field': ErrorField\n    },    \n    data() {\n        return {\n            data: {\n                email: null,\n                name: null,\n                password: null\n            },\n            errors: null,\n            serverErrors: null,\n        };\n    },\n    computed: {\n        user() {\n            return this.$store.state.user;\n        }        \n    },\n    methods: {\n        validate() {\n            let validator = new Validator(this.data, {\n                name: 'required',\n                email: 'required',\n                password: 'required|min:8',\n            });\n\n            if (validator.fails()) {\n                this.errors = validator.errors.all();\n            } else {\n                this.errors = null;\n            }\n\n            return validator.passes();\n        },        \n        register() {\n            if (this.validate()) {\n                this.serverErrors = null;\n                axios.post('register', this.data).then((response) => {\n                    console.log('response', response);                \n                    if (response.data.success) {\n                        console.log('user', response.data.user);\n                        this.$store.commit('setUser', response.data.user);\n                        this.$router.push('/account')\n                    } else {\n                        this.serverErrors = response.data.errors;\n                    }\n                });\n            }\n        },\n        logout() {\n            axios.post('logout').then((response) => {\n                if (response.data.success) {\n                    this.$store.commit('setUser', null);\n                }\n            });\n        },        \n    },\n    watch: {\n    },\n    mounted() {\n    },\n};\n</script>\n\n\n<style lang=\"scss\">\n    .error {\n        color: red;\n    }\n    ul {\n        list-style: none;\n    }\n</style>","import mod from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterPage.vue?vue&type=script&lang=js&\"; export default mod; export * from \"-!../../../node_modules/cache-loader/dist/cjs.js??ref--12-0!../../../node_modules/thread-loader/dist/cjs.js!../../../node_modules/babel-loader/lib/index.js!../../../node_modules/cache-loader/dist/cjs.js??ref--0-0!../../../node_modules/vue-loader/lib/index.js??vue-loader-options!./RegisterPage.vue?vue&type=script&lang=js&\"","import { render, staticRenderFns } from \"./RegisterPage.vue?vue&type=template&id=02b6751d&\"\nimport script from \"./RegisterPage.vue?vue&type=script&lang=js&\"\nexport * from \"./RegisterPage.vue?vue&type=script&lang=js&\"\nimport style0 from \"./RegisterPage.vue?vue&type=style&index=0&lang=scss&\"\n\n\n/* normalize component */\nimport normalizer from \"!../../../node_modules/vue-loader/lib/runtime/componentNormalizer.js\"\nvar component = normalizer(\n  script,\n  render,\n  staticRenderFns,\n  false,\n  null,\n  null,\n  null\n  \n)\n\nexport default component.exports"],"sourceRoot":""}